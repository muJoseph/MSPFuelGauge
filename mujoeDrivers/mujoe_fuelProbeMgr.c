/*
 * mujoe_fuelProbeMgr.c
 *
 *  Created on: Nov 26, 2017
 *      Author: joe
 */


////////////////////////////////////////////////////////////////////////////////////////////////
// INCLUDE
////////////////////////////////////////////////////////////////////////////////////////////////

#include "mujoe_fuelProbeMgr.h"

////////////////////////////////////////////////////////////////////////////////////////////////
// STATIC FUNCTION PROTOS
////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////
// EXTERN VAR
////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////
// LOCAL VAR
////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////
// FUNCTIONS
////////////////////////////////////////////////////////////////////////////////////////////////

void fuelProbeMgr_initProbe( void )
{
  // Initialize Baseline measurement
  TI_CAPT_Init_Baseline( &fuelprobe_sensor );

  // Update baseline measurement (Average 5 measurements)
  TI_CAPT_Update_Baseline( &fuelprobe_sensor, 5 );

} // fuelProbeMgr_initProbe

void fuelProbeMgr_updateBaseline( uint8 numSamples )
{
   // Update baseline measurement
   TI_CAPT_Update_Baseline( &fuelprobe_sensor, numSamples );

} // fuelProbeMgr_updateBaseline

fuelProbeMgr_t fuelProbeMgr_performMeasurement( void )
{
   // Get the raw delta counts for element characterization
   fuelProbeMgr_t          fuelProbeMgr;

   TI_CAPT_Custom_ALT( &fuelprobe_sensor, &fuelProbeMgr.countDelta, &fuelProbeMgr.rawOverFlow, &fuelProbeMgr.countRaw );     // TEST
   //TI_CAPT_Custom( &fuelprobe_sensor, &deltaCount );                                    // DEFAULT

   return fuelProbeMgr;

} // fuelProbeMgr_performMeasurement

////////////////////////////////////////////////////////////////////////////////////////////////
// STATIC FUNCTIONS
////////////////////////////////////////////////////////////////////////////////////////////////
